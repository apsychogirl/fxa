{
  "apps": [
    {
      "name": "email",
      "script": "_scripts/fxa-email-service.sh",
      "max_restarts": "1",
      "min_uptime": "2m",
      "kill_timeout": 20000
    },
    {
      "name": "inbox",
      "script": "test/mail_helper.js",
      "cwd": "packages/fxa-auth-server",
      "env": {
        "NODE_ENV": "dev"
      },
      "max_restarts": "1",
      "min_uptime": "2m"
    },
    {
      "name": "auth-db",
      "script": "../../_scripts/start-after-mysql.sh",
      "cwd": "packages/fxa-auth-db-mysql",
      "env": {
        "NODE_ENV": "dev"
      },
      "max_restarts": "2",
      "min_uptime": "2m"
    },
    {
      "name": "auth",
      "script": "../../_scripts/start-after-mysql-debug.sh",
      "cwd": "packages/fxa-auth-server",
      "env": {
        "DB": "mysql",
        "NODE_ENV": "dev",
        "IP_ADDRESS": "0.0.0.0",
        "SIGNIN_UNBLOCK_FORCED_EMAILS": "^block.*@restmail\\.net$",
        "SIGNIN_CONFIRMATION_ENABLED": "true",
        "SIGNIN_CONFIRMATION_FORCE_EMAIL_REGEX": "^sync.*@restmail\\.net$",
        "CONFIG_FILES": "config/secrets.json"
      },
      "max_restarts": "1",
      "min_uptime": "2m"
    },
    {
      "name": "content",
      "script": "npm",
      "args": ["run", "start-dev-debug"],
      "cwd": "packages/fxa-content-server",
      "env": {
        "NODE_ENV": "development"
      },
      "max_restarts": "1",
      "min_uptime": "2m"
    },
    {
      "name": "profile",
      "script": "../../_scripts/start-after-mysql.sh",
      "cwd": "packages/fxa-profile-server",
      "max_restarts": "1",
      "env": {
        "NODE_ENV": "development",
        "HOST": "0.0.0.0",
        "DB": "mysql"
      },
      "min_uptime": "2m"
    },
    {
      "name": "fortress",
      "script": "server.js",
      "cwd": "packages/fortress",
      "max_restarts": "1",
      "env": {
        "CONFIG_FORTRESS": "./config-local.json",
        "NODE_ENV": "dev"
      },
      "min_uptime": "2m"
    },
    {
      "name": "123done",
      "script": "server.js",
      "cwd": "packages/123done",
      "max_restarts": "1",
      "env": {
        "CONFIG_123DONE": "./config-local.json",
        "NODE_ENV": "dev"
      },
      "min_uptime": "2m"
    },
    {
      "name": "321done",
      "script": "server.js",
      "cwd": "packages/123done",
      "max_restarts": "1",
      "env": {
        "CONFIG_123DONE": "./config-local-untrusted.json",
        "NODE_ENV": "dev"
      },
      "min_uptime": "2m"
    },
    {
      "name": "browserid",
      "script": "server.js",
      "cwd": "packages/browserid-verifier",
      "env": {
        "PORT": "5050",
        "IP_ADDRESS": "0.0.0.0",
        "FORCE_INSECURE_LOOKUP_OVER_HTTP": "true"
      },
      "max_restarts": "1",
      "min_uptime": "2m"
    },
    {
      "name": "payments",
      "cwd": "packages/fxa-payments-server",
      "script": "npm",
      "args": ["run", "start-dev-debug"],
      "max_restarts": "1",
      "min_uptime": "2m",
      "env": {
        "LOGGING_FORMAT": "pretty",
        "NODE_ENV": "development",
        "CONFIG_FILES": "config/secrets.json"
      }
    },
    {
      "name": "support",
      "cwd": "packages/fxa-support-panel",
      "script": "npm",
      "args": ["run", "start-dev"],
      "max_restarts": "1",
      "min_uptime": "2m",
      "env": {
        "LOGGING_FORMAT": "pretty",
        "NODE_ENV": "development"
      }
    },
    {
      "name": "event-broker",
      "script": "../../_scripts/start-after-mysql-debug.sh",
      "cwd": "packages/fxa-event-broker",
      "max_restarts": "1",
      "env": {
        "NODE_ENV": "development",
        "WORKER_HOST": "0.0.0.0"
      },
      "min_uptime": "2m"
    }
  ]
}
